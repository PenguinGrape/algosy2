запоминаем точки начала отрезков и концов отрезков. потом точки запроса. все помещается в один массив, стабильно
сортируется. создается стэк. для каждой точки из получившегося массива:
если это точка начала - кладем в стэк
... точка запроса - выводим айди отрезка, которому принадлежит точка начала, которая вершина стека
... точка конца отрезка - убираем точку начала из стека